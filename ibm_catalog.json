{
  "products": [
    {
      "name": "deploy-arch-ibm-is-private-path-ext-conn",
      "label": "Cloud foundation for on-premises connectivity",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "network",
        "converged_infra"
      ],
      "keywords": [
        "vpc",
        "private path",
        "private",
        "nlb",
        "alb",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Deploys VPC Private Path service with integration of application load balancer for external connectivity",
      "long_description": "Private network connectivity is essential for IBM Cloud customers who prioritize privacy, security, and compliance.\n\n\nThrough [Private Path services for VPC](https://cloud.ibm.com/docs/vpc?topic=vpc-private-path-service-intro), providers can deliver their cloud and on-premises services over the IBM Cloud private network backbone, ensuring secure and private interactions for consumers.\n\n\nYou can use this solution to provision and configure a VPC Private Path service to securely connect services hosted in IBM Cloud VPC, on-premise or other reachable external locations.\n\nℹ️ This Terraform-based automation is part of a broader suite of IBM-maintained Infrastructure as Code (IaC) assets, each following the naming pattern \"Cloud automation for *servicename*\" and focusing on single IBM Cloud service. These single-service deployable architectures can be used on their own to streamline and automate service deployments through an [IaC approach](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-understanding-projects), or assembled together into a broader [automated IaC stack](https://cloud.ibm.com/docs/secure-enterprise?topic=secure-enterprise-config-stack) to automate the deployment of an end-to-end solution architecture.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-vpc-private-path-external-connectivity/blob/main/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-vpc-private-path-external-connectivity/main/images/private_path.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Application load balancer",
          "description": "Sets up an [Application load balancer (ALB)](https://cloud.ibm.com/docs/vpc?topic=vpc-load-balancers) within a Virtual Private Cloud (VPC) environment to manage and distribute incoming network traffic across multiple backend targets."
        },
        {
          "title": "Private Path Network load balancer",
          "description": "Sets up a [Private Path Network load balancer](https://cloud.ibm.com/docs/vpc?topic=vpc-ppnlb-ui-creating-private-path-network-load-balancer&interface=ui) with a backend pool to connect to the VPE Gateway."
        },
        {
          "title": "Private Path service",
          "description": "Creates a [VPC Private Path service](https://cloud.ibm.com/docs/private-path?topic=private-path-overview&interface=cli&OR=PowerPoint#pps_overview-include-pps-use-case-5) that enables secure, private connectivity between VPC resources and external services over IBM Cloud's private network backbone."
        },
        {
          "title": "Observability",
          "description": "This solution can optionally configure resources for logging, monitoring and activity tracker event routing."
        },
        {
          "title": "Object Storage",
          "description": "Optionally you can create and configure an [Object Storage bucket](https://cloud.ibm.com/docs/openshift?topic=openshift-storage-cos-understand) to store VPC flow logs as part of the deployment. You can provide an existing COS Instance or use the [Cloud automation for Object Storage](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-cos-68921490-2778-4930-ac6d-bae7be6cd958-global) for creating a new instance."
        },
        {
          "title": "Key encryption",
          "description": "Optionally you can enable [Key encryption](https://cloud.ibm.com/docs/openshift?topic=openshift-encryption-secrets) of the Object Storage bucket using either a newly created key or an existing one. [Cloud automation for Key Protect](https://cloud.ibm.com/catalog/7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3/architecture/deploy-arch-ibm-kms-2cad4789-fa90-4886-9c9e-857081c273ee-global) can be used for key management."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the [original repo](https://github.com/terraform-ibm-modules/terraform-ibm-vpc-private-path-external-connectivity). If you experience issues please open an issue [here](https://github.com/terraform-ibm-modules/terraform-ibm-vpc-private-path-external-connectivity/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Fully configurable",
          "name": "fully-configurable",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "compliance": {
            "authority": "scc-v3",
            "profiles": [
              {
                "profile_name": "IBM Cloud Framework for Financial Services",
                "profile_version": "1.7.0"
              }
            ]
          },
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Account Management services",
              "notes": "[Optional] Required to create new resource groups when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Identity and Access enabled services",
              "notes": "[Optional] Required to create new resource groups with account settings when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "is.vpc",
              "notes": "[Optional] Required to create Virtual Private Cloud(VPC)."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "cloud-object-storage",
              "notes": "[Optional] Required if VPC Flow Logs are enabled."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "logs",
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "atracker",
              "notes": "[Optional]  Required when enabling the Activity Tracker Event Routing."
            }
          ],
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              },
              "key": "region",
              "required": true
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "enable_platform_metrics",
              "type": "string",
              "default_value": true,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true
            },
            {
              "key": "logs_routing_tenant_regions",
              "type": "list(string)",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "type": "string",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "existing_vpc_id"
            },
            {
              "key": "existing_subnet_id",
              "required": true,
              "custom_config": {
                "type": "platform_resource",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "resourceType": "subnet",
                  "selection": "single_select",
                  "valueType": "id"
                }
              }
            },
            {
              "key": "private_path_service_endpoints",
              "required": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "private_path_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "private_path_access_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "private_path_name"
            },
            {
              "key": "private_path_default_access_policy",
              "options": [
                {
                  "displayname": "Review",
                  "value": "review"
                },
                {
                  "displayname": "Permit",
                  "value": "permit"
                },
                {
                  "displayname": "Deny",
                  "value": "deny"
                }
              ]
            },
            {
              "key": "private_path_publish"
            },
            {
              "key": "private_path_zonal_affinity"
            },
            {
              "key": "private_path_account_policies"
            },
            {
              "key": "network_loadbalancer_name"
            },
            {
              "key": "application_loadbalancer_listener_certificate_instance"
            },
            {
              "key": "application_loadbalancer_listener_idle_timeout"
            },
            {
              "key": "application_loadbalancer_listener_port"
            },
            {
              "key": "application_loadbalancer_listener_protocol"
            },
            {
              "key": "application_loadbalancer_pool_algorithm"
            },
            {
              "key": "application_loadbalancer_pool_health_delay"
            },
            {
              "key": "application_loadbalancer_pool_health_retries"
            },
            {
              "key": "application_loadbalancer_pool_health_timeout"
            },
            {
              "key": "application_loadbalancer_pool_health_type"
            },
            {
              "key": "application_loadbalancer_pool_member_ip_address"
            },
            {
              "key": "application_loadbalancer_pool_member_port"
            },
            {
              "key": "application_loadbalancer_pool_protocol"
            },
            {
              "key": "application_loadbalancer_type",
              "options": [
                {
                  "displayname": "Public",
                  "value": "public"
                },
                {
                  "displayname": "Private",
                  "value": "private"
                }
              ]
            },
            {
              "key": "network_loadbalancer_listener_accept_proxy_protocol"
            },
            {
              "key": "network_loadbalancer_listener_port"
            },
            {
              "key": "network_loadbalancer_pool_algorithm"
            },
            {
              "key": "network_loadbalancer_pool_health_delay"
            },
            {
              "key": "network_loadbalancer_pool_health_monitor_port"
            },
            {
              "key": "network_loadbalancer_pool_health_monitor_url"
            },
            {
              "key": "network_loadbalancer_pool_health_retries"
            },
            {
              "key": "network_loadbalancer_pool_health_timeout"
            },
            {
              "key": "network_loadbalancer_pool_health_type"
            },
            {
              "key": "network_loadbalancer_pool_member_port"
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "Private",
                  "value": "private"
                },
                {
                  "displayname": "Public",
                  "value": "public"
                },
                {
                  "displayname": "Public-and-Private",
                  "value": "public-and-private"
                }
              ]
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Configured to use IBM secure by default standards, but can be edited to fit your use case."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "VPC Private Path topology",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-vpc-private-path-external-connectivity/main/reference-architectures/deployable-architecture-private-path-external-connectivity.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture provisions a <b>Private Path</b> service on IBM Cloud to facilitate secure, private connectivity between IBM Cloud Virtual Private Cloud (VPC) environments and on-premises networks or external services using this solution. This solution automates the deployment of IBM Cloud's Private Path and Application Load Balancer (ALB) services to enable enterprises to establish robust, private, and scalable network connections.<br><br>The Private Path service establishes private Layer 3 network connectivity between IBM Cloud VPC resources and external destinations such as on-premises data centers or other cloud environments. It leverages secure IPsec tunnels and Direct Link connections to maintain encrypted, low-latency communication, ensuring sensitive workloads can operate within a highly secure, isolated network path that bypasses the public internet.<br><br>By automating the provisioning and configuration of these components, the solution delivers a seamless, production-ready framework for establishing hybrid connectivity, optimizing both performance and security. This approach enhances operational agility while maintaining enterprise-grade standards for secure data exchange across cloud and on-premises boundaries.<br><br>You can create a fully-configured <b>VPC</b> by selecting the [Cloud foundation for VPC](https://cloud.ibm.com/catalog/architecture/deploy-arch-ibm-slz-vpc-9fc0fa64-27af-4fed-9dce-47b3640ba739-global?catalog_query=aHR0cHM6Ly9jbG91ZC5pYm0uY29tL2NhdGFsb2cjZGVwbG95YWJsZV9hcmNoaXRlY3R1cmVfdGFi) dependency or you can use an existing VPC if any. The VPC can be provisioned either in a single-zone or multi-zone configuration, depending on your availability requirements. The default configuration deploys a VPC with three zone subnets, configures the predefined ACLs, and attaches a public gateway with one of the subnets."
              }
            ]
          },
          "dependencies": [
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "Cloud automation for Account Configuration organizes your IBM Cloud account with a ready-made set of resource groups by default and when you enable the \"with Account Settings\" option, it also applies baseline security and governance settings. ",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavor": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_output": "workload_resource_group_name",
                  "version_input": "existing_resource_group_name"
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.7"
            },
            {
              "name": "deploy-arch-ibm-vpc",
              "description": "Configures the foundational VPC network infrastructure required for Private Path service deployment.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "fully-configurable"
              ],
              "id": "2af61763-f8ef-4527-a815-b92166f29bc8-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_output": "vpc_id",
                  "version_input": "existing_vpc_id"
                },
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v7.24.0"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
